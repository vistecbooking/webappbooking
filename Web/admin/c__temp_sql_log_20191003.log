2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:07:29+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '15' ORDER BY lname, fname) results;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '15' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:07:33+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:11:41+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname) results;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:11:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname) results;
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:11:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:11:57+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:11:57+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname) results;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:12:21+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '23' ORDER BY lname, fname) results;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '23' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:12:38+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '18' ORDER BY lname, fname) results;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '18' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:12:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '15' ORDER BY lname, fname) results;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '15' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:13:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '19' ORDER BY lname, fname) results;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '19' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:13:32+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname) results;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:14:12+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname) results;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:14:22+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '26' ORDER BY lname, fname) results;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '26' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:14:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '24' ORDER BY lname, fname) results;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '24' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:15:20+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '17' ORDER BY lname, fname) results;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '17' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:15:52+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '25' ORDER BY lname, fname) results;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '25' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:16:04+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '20' ORDER BY lname, fname) results;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '20' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:16:37+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:17:00+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T13:17:17+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:39:56+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:42:56+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'terklor@hotmail.com') );
2019-10-03T14:42:56+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'terklor@hotmail.com') OR (email IS NOT NULL AND email = null) );
2019-10-03T14:42:56+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: INSERT INTO
			users (email, password, fname, lname, phone, organization, position_id, username, salt, timezone, language, homepageid, status_id, date_created, public_id, default_schedule_id)
		VALUES
			('terklor@hotmail.com', 'c07b365f5629cc64c35b003cb107b55e22ffebe4', 'Anuwat', 'Aunkham', null, null, @position, 'terklor@hotmail.com', '78f81b97', 'Asia/Bangkok', 'en_us', '1', '1', '2019-10-03 14:42:56', null, null);
2019-10-03T14:42:57+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = 'Of',
			advisor_name = 'Prof. Dr. Wipa Suginta',
			line_ID = '-',
			student_ID = '-',
			is_admin = '0'
		WHERE
			user_id = '566';
2019-10-03T14:42:57+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: INSERT INTO user_resource_permissions (user_id, resource_id)
		SELECT '566' as user_id, resource_id
		FROM resources
		WHERE autoassign=1;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:42:57+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname) results;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:43:01+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:43:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name) results;
2019-10-03T14:43:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name LIMIT 20 OFFSET 0;
2019-10-03T14:43:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:43:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '1'
		ORDER BY g.name;
2019-10-03T14:44:24+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: INSERT INTO groups (name, color) VALUES ('WIS', '');
2019-10-03T14:44:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name) results;
2019-10-03T14:44:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name LIMIT 20 OFFSET 0;
2019-10-03T14:44:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:44:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '1'
		ORDER BY g.name;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:44:30+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname) results;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:44:40+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'terklor@hotmail.com') );
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'terklor@hotmail.com') OR (email IS NOT NULL AND email = null) );
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '1',
			last_modified = '2019-10-03 14:45:18',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0'
		WHERE
			user_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = 'Of',
			advisor_name = 'Prof. Dr. Wipa Suginta',
			line_ID = '-',
			student_ID = '-',
			is_admin = '0'
		WHERE
			user_id = '566';
2019-10-03T14:45:18+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			phone = '',
			position_id = '3',
			organization = ''
		WHERE
			user_id = '566';
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname) results;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:45:18+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:45:27+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM groups
		WHERE group_id = '29';
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, (SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
			FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list
		FROM users u
		WHERE u.user_id IN (
		  SELECT DISTINCT (ug.user_id) FROM user_groups ug
		  INNER JOIN groups g ON g.group_id = ug.group_id
		  WHERE g.group_id IN ('29')
		  )
		AND (0 = '1' OR u.status_id = '1')
		ORDER BY u.lname, u.fname;
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM group_resource_permissions
		WHERE group_id = '29';
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*
		FROM roles r
		INNER JOIN group_roles gr ON r.role_id = gr.role_id
		WHERE gr.group_id = '29';
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: INSERT INTO user_groups (user_id, group_id)
		VALUES ('566', '29');
2019-10-03T14:45:31+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE groups
		SET name = 'WIS', admin_group_id = null, color = '' 
		WHERE group_id = '29';
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:45:37+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'terklor@hotmail.com') );
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'terklor@hotmail.com') OR (email IS NOT NULL AND email = null) );
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '1',
			last_modified = '2019-10-03 14:46:23',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = 'Of',
			advisor_name = 'Prof. Dr. Wipa Suginta',
			line_ID = '-',
			student_ID = '-',
			is_admin = '0'
		WHERE
			user_id = '566';
2019-10-03T14:46:23+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			phone = '0862446114',
			position_id = '3',
			organization = ''
		WHERE
			user_id = '566';
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:46:23+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'terklor@hotmail.com') );
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'terklor@hotmail.com') OR (email IS NOT NULL AND email = null) );
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '1',
			last_modified = '2019-10-03 14:46:36',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = 'Of',
			advisor_name = 'Prof. Dr. Wipa Suginta',
			line_ID = '-',
			student_ID = '-',
			is_admin = '0'
		WHERE
			user_id = '566';
2019-10-03T14:46:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			phone = '0862446114',
			position_id = '3',
			organization = 'BSE'
		WHERE
			user_id = '566';
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:46:36+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:46:43+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '3',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '1',
			last_modified = '2019-10-03 14:46:43',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T14:46:45+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '1',
			last_modified = '2019-10-03 14:46:45',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname) results;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:46:52+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname) results;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T14:46:55+07:00 [10019] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:19:19+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:19:24+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T15:19:32+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '3',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '4',
			last_modified = '2019-10-03 15:19:32',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d95a777dba95',
			language = 'en_us',
			lastlogin = '2019-10-03 15:12:57',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:19:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:20:02+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '566';
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '566';
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '566' AND r.resource_id = urp.resource_id;
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '566' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '566';
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '566';
2019-10-03T15:20:03+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'c07b365f5629cc64c35b003cb107b55e22ffebe4',
			salt = '78f81b97',
			fname = 'Anuwat',
			lname = 'Aunkham',
			email = 'terklor@hotmail.com',
			username = 'terklor@hotmail.com',
			homepageId = '4',
			last_modified = '2019-10-03 15:20:03',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d95a777dba95',
			language = 'en_us',
			lastlogin = '2019-10-03 15:12:57',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '566';
2019-10-03T15:46:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name) results;
2019-10-03T15:46:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name LIMIT 20 OFFSET 0;
2019-10-03T15:46:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:46:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '1'
		ORDER BY g.name;
2019-10-03T15:46:43+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, (SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
			FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list
		FROM users u
		WHERE u.user_id IN (
		  SELECT DISTINCT (ug.user_id) FROM user_groups ug
		  INNER JOIN groups g ON g.group_id = ug.group_id
		  WHERE g.group_id IN ('29')
		  )
		AND (0 = '1' OR u.status_id = '1')
		ORDER BY u.lname, u.fname) results;
2019-10-03T15:46:43+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, (SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
			FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list
		FROM users u
		WHERE u.user_id IN (
		  SELECT DISTINCT (ug.user_id) FROM user_groups ug
		  INNER JOIN groups g ON g.group_id = ug.group_id
		  WHERE g.group_id IN ('29')
		  )
		AND (0 = '1' OR u.status_id = '1')
		ORDER BY u.lname, u.fname LIMIT 100 OFFSET 0;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:46:49+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:46:54+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:49:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT * FROM positions
		ORDER BY name) results;
2019-10-03T15:49:36+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name LIMIT 20 OFFSET 0;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:49:58+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '3' OR status_id = '3') ORDER BY lname, fname) results;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '3' OR status_id = '3') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '1' OR status_id = '1') ORDER BY lname, fname) results;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '1' OR status_id = '1') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:14+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '2' OR status_id = '2') ORDER BY lname, fname) results;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '2' OR status_id = '2') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:15+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:19+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:24+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '1cc60517cc7c7eb6b91b63d7de8778d8bff2e15e',
			salt = '73a75213',
			fname = 'Surapoj',
			lname = 'Sanram',
			email = 'surapoj.s@vistec.ac.th',
			username = 'Surapoj',
			homepageId = '2',
			last_modified = '2019-10-03 15:50:34',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d5cb372e22c5',
			language = 'en_us',
			lastlogin = '2019-10-03 15:20:47',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '564';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '566' WHERE user_id = '564' AND name = 'FilterUserId';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Anuwat Aunkham' WHERE user_id = '564' AND name = 'FilterUserName';
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '566' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-10-03T15:50:34+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '566' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:41+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '1cc60517cc7c7eb6b91b63d7de8778d8bff2e15e',
			salt = '73a75213',
			fname = 'Surapoj',
			lname = 'Sanram',
			email = 'surapoj.s@vistec.ac.th',
			username = 'Surapoj',
			homepageId = '2',
			last_modified = '2019-10-03 15:50:51',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d5cb372e22c5',
			language = 'en_us',
			lastlogin = '2019-10-03 15:20:47',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '564';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '555' WHERE user_id = '564' AND name = 'FilterUserId';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Piyanuch Anuwan' WHERE user_id = '564' AND name = 'FilterUserName';
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '555' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-10-03T15:50:51+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '555' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-10-03T15:51:07+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:51:24+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:51:28+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname) results;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '28' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:09+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname) results;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:22+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '1cc60517cc7c7eb6b91b63d7de8778d8bff2e15e',
			salt = '73a75213',
			fname = 'Surapoj',
			lname = 'Sanram',
			email = 'surapoj.s@vistec.ac.th',
			username = 'Surapoj',
			homepageId = '2',
			last_modified = '2019-10-03 15:52:35',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d5cb372e22c5',
			language = 'en_us',
			lastlogin = '2019-10-03 15:20:47',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '564';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '427' WHERE user_id = '564' AND name = 'FilterUserId';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Wannaruedee Wannapakdee' WHERE user_id = '564' AND name = 'FilterUserName';
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '427' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-10-03T15:52:35+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '427' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname) results;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:40+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:52:45+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-10-03T15:52:45+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:45+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '1cc60517cc7c7eb6b91b63d7de8778d8bff2e15e',
			salt = '73a75213',
			fname = 'Surapoj',
			lname = 'Sanram',
			email = 'surapoj.s@vistec.ac.th',
			username = 'Surapoj',
			homepageId = '2',
			last_modified = '2019-10-03 15:52:46',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d5cb372e22c5',
			language = 'en_us',
			lastlogin = '2019-10-03 15:20:47',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '564';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '420' WHERE user_id = '564' AND name = 'FilterUserId';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Banyong Suwankaisorn' WHERE user_id = '564' AND name = 'FilterUserName';
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '420' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-10-03T15:52:46+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '420' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname) results;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '22' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:48+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '18' ORDER BY lname, fname) results;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '18' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:52:52+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname) results;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:53:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname) results;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname LIMIT 20 OFFSET 20;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:53:39+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname) results;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:54:05+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '23' ORDER BY lname, fname) results;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '23' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:55:40+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname) results;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:56:10+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '27' ORDER BY lname, fname) results;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '27' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:56:35+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname) results;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
			(SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
						FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id IS NULL ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:56:47+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '26' ORDER BY lname, fname) results;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '26' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:57:16+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname) results;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:57:43+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '17' ORDER BY lname, fname) results;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '17' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:57:55+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname) results;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:58:06+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '1cc60517cc7c7eb6b91b63d7de8778d8bff2e15e',
			salt = '73a75213',
			fname = 'Surapoj',
			lname = 'Sanram',
			email = 'surapoj.s@vistec.ac.th',
			username = 'Surapoj',
			homepageId = '2',
			last_modified = '2019-10-03 15:58:33',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5d5cb372e22c5',
			language = 'en_us',
			lastlogin = '2019-10-03 15:20:47',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '564';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '505' WHERE user_id = '564' AND name = 'FilterUserId';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Kridsadakorn Prakinee' WHERE user_id = '564' AND name = 'FilterUserName';
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '505' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-10-03T15:58:33+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '505' ) AND ( 0=1 OR ( start_date <= '2019-09-26 00:00:00' AND ( end_date >= '2019-10-11 00:00:00' ) ) OR ( start_date >= '2019-09-26 00:00:00' AND ( start_date <= '2019-10-11 00:00:00' ) ) OR ( end_date >= '2019-09-26 00:00:00' AND ( end_date <= '2019-10-11 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname) results;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '14' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:58:37+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '24' ORDER BY lname, fname) results;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '24' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:58:44+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '20' ORDER BY lname, fname) results;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '20' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:59:27+07:00 [10524] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname) results;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '21' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:59:35+07:00 [2796] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname) results;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '29' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '564';
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '564';
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '564' AND r.resource_id = urp.resource_id;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '564' AND (null is null OR r.role_level IN (null) );
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '564';
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '564';
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-10-03T15:59:53+07:00 [13609] DEBUG sql - [User=Surapoj Sanram (surapoj.s@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
