2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:39:20+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '389') ORDER BY lname, fname) results;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '389') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:39:52+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '389';
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '389';
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '389' AND r.resource_id = urp.resource_id;
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '389' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '389';
2019-03-18T08:39:58+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '389' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '389' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'e4c322e60c271fe86d0acf74bc7849fd418d7690',
			salt = '73149551',
			fname = 'Jitpisut',
			lname = 'Poolwong',
			email = '1830301@vistec.ac.th',
			username = 'vdejitpo',
			homepageId = '1',
			last_modified = '2019-03-18 08:40:06',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '389';
2019-03-18T08:40:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('389', '25');
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '384') ORDER BY lname, fname) results;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '384') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:40:14+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '384';
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '384';
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '384' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '384' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '384';
2019-03-18T08:40:18+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '384' AND r.resource_id = urp.resource_id;
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '384' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '2ba88add91306479643176176b7f3c1c77750b05',
			salt = '292a4bec',
			fname = 'Ounjit',
			lname = 'Sodpiban',
			email = 's15_ounjit.s@vistec.ac.th',
			username = 'vdeounso',
			homepageId = '1',
			last_modified = '2019-03-18 08:40:26',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '384';
2019-03-18T08:40:26+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('384', '25');
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '425') ORDER BY lname, fname) results;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '425') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:41:25+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '425';
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '425';
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '425' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '425' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '425';
2019-03-18T08:41:29+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '425' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '425' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '45ed525680dacf7ba166e4354bcf7d213694bee1',
			salt = '4295ec58',
			fname = 'Piraya',
			lname = 'Wetchasat',
			email = 'Piraya.w_s17@vistec.ac.th',
			username = 'chwpirwe',
			homepageId = '1',
			last_modified = '2019-03-18 08:41:35',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '425';
2019-03-18T08:41:35+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('425', '25');
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '429') ORDER BY lname, fname) results;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '429') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:41:41+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '429';
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '429';
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '429' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '429' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '429';
2019-03-18T08:41:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '429' AND r.resource_id = urp.resource_id;
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '429' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '8402676e575dda864cb447534ea2f0c1fe9be663',
			salt = '76c75581',
			fname = 'Thidarat',
			lname = 'Imyen',
			email = 'thidarat.i@vistec.ac.th',
			username = 'chwthiim',
			homepageId = '1',
			last_modified = '2019-03-18 08:41:51',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = null,
			language = 'en_us',
			lastlogin = null,
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '429';
2019-03-18T08:41:51+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('429', '25');
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '509') ORDER BY lname, fname) results;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '509') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:48:32+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:49:51+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '509') ORDER BY lname, fname) results;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '509') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T08:50:02+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:10:03+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:10:10+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:10:13+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T09:10:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('415', '13');
2019-03-18T09:10:24+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:12:21+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '512') ORDER BY lname, fname) results;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '512') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:12:28+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:18:06+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname) results;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			LEFT JOIN user_groups ugs ON ugs.user_id = u.user_id 
			WHERE (0 = '0' OR status_id = '0') AND ugs.group_id = '16' ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:18:16+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '540';
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '540';
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '540' AND r.resource_id = urp.resource_id;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '540' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '540';
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '540';
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-18T09:42:40+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '540';
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '540';
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '540' AND r.resource_id = urp.resource_id;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '540' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '540';
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '540';
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'f0f436cef3efde3bd8644ba4309f84308ea8949f',
			salt = '6fb02196',
			fname = 'Pompamz',
			lname = 'A',
			email = 'pp.pompamz@gmail.com',
			username = 'devadmin',
			homepageId = '1',
			last_modified = '2019-03-18 09:43:09',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5c88ae6d5d040',
			language = 'en_us',
			lastlogin = '2019-03-18 09:42:36',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '540';
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterStartDateDelta', '-7');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterEndDateDelta', '7');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterUserId', '395');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterUserName', 'Panyapat.P (1630407@vistec.ac.th)');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterScheduleId', '0');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterResourceId', '0');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterReservationStatusId', '0');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterReferenceNumber', null);
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterResourceStatusId', '0');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterResourceReasonId', '');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT INTO user_preferences (user_id, name, value) VALUES ('540', 'FilterCustomAttributes', 'a:0:{}');
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-18T09:43:09+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '540';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '540';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '540' AND r.resource_id = urp.resource_id;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '540' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '540';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '540';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'f0f436cef3efde3bd8644ba4309f84308ea8949f',
			salt = '6fb02196',
			fname = 'Pompamz',
			lname = 'A',
			email = 'pp.pompamz@gmail.com',
			username = 'devadmin',
			homepageId = '1',
			last_modified = '2019-03-18 09:43:42',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5c88ae6d5d040',
			language = 'en_us',
			lastlogin = '2019-03-18 09:42:36',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '540';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: UPDATE user_preferences SET value = '2' WHERE user_id = '540' AND name = 'FilterResourceId';
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '2' ) AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-18T09:43:42+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '2' ) AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '540';
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '540';
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '540' AND r.resource_id = urp.resource_id;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '540' AND (null is null OR r.role_level IN (null) );
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '540';
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '540';
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'f0f436cef3efde3bd8644ba4309f84308ea8949f',
			salt = '6fb02196',
			fname = 'Pompamz',
			lname = 'A',
			email = 'pp.pompamz@gmail.com',
			username = 'devadmin',
			homepageId = '1',
			last_modified = '2019-03-18 09:44:07',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5c88ae6d5d040',
			language = 'en_us',
			lastlogin = '2019-03-18 09:42:36',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '540';
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '2' ) AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-18T09:44:07+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '2' ) AND ( users.user_id = '395' ) AND ( 0=1 OR ( start_date <= '2019-03-11 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2019-03-11 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2019-03-11 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:08+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:12+07:00 [5873] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:17+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:06:21+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T10:06:27+07:00 [7859] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('541', '2');
2019-03-18T10:06:28+07:00 [7854] DEBUG sql - [User=Pompamz A (pp.pompamz@gmail.com)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:24:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:24:31+07:00 [7854] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T10:24:37+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T10:24:44+07:00 [5873] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('417', '2');
2019-03-18T10:24:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T11:40:11+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T11:40:11+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:40:11+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-18T11:40:11+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_instances bi
		INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
		INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
		INNER JOIN resources r on bsr.resource_id = r.resource_id
		INNER JOIN users u ON u.user_id = bs.owner_id
		WHERE
			(
				(bi.start_date >= '2019-03-19 09:00:00' AND bi.start_date <= '2019-03-19 12:00:00')
				OR
				(bi.end_date >= '2019-03-19 09:00:00' AND bi.end_date <= '2019-03-19 12:00:00')
				OR
				(bi.start_date <= '2019-03-19 09:00:00' AND bi.end_date >= '2019-03-19 12:00:00')
			) AND
			('-1' = -1 OR r.schedule_id = '-1')
		ORDER BY bi.start_date ASC;
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2019-03-19 09:00:00' AND ri.start_date <= '2019-03-19 12:00:00') OR
					(ri.end_date >= '2019-03-19 09:00:00' AND ri.end_date <= '2019-03-19 12:00:00') OR
					(ri.start_date <= '2019-03-19 09:00:00' AND ri.end_date >= '2019-03-19 12:00:00')) AND
					('-1' = -1 OR ru.user_id = '-1') AND
					('1' = 0 OR ru.reservation_user_level = '1') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series (date_created, title, owner_id, repeat_type, repeat_options, announce_id) VALUES ('2019-03-18 11:42:19', 'SEM Lecture at M136', '2', 'none', '', '2');
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series_resources (blackout_series_id, resource_id) VALUES ('4', '25');
2019-03-18T11:42:19+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_instances (start_date, end_date, blackout_series_id)
		VALUES ('2019-03-19 09:00:00', '2019-03-19 12:00:00', '4');
2019-03-18T11:42:22+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T11:42:22+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:42:22+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-18T11:42:22+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:43:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:44:04+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T11:44:08+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('426', '2');
2019-03-18T11:44:08+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T11:44:48+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_instances bi
		INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
		INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
		INNER JOIN resources r on bsr.resource_id = r.resource_id
		INNER JOIN users u ON u.user_id = bs.owner_id
		WHERE
			(
				(bi.start_date >= '2019-03-20 09:00:00' AND bi.start_date <= '2019-03-20 19:00:00')
				OR
				(bi.end_date >= '2019-03-20 09:00:00' AND bi.end_date <= '2019-03-20 19:00:00')
				OR
				(bi.start_date <= '2019-03-20 09:00:00' AND bi.end_date >= '2019-03-20 19:00:00')
			) AND
			('-1' = -1 OR r.schedule_id = '-1')
		ORDER BY bi.start_date ASC;
2019-03-18T11:44:48+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2019-03-20 09:00:00' AND ri.start_date <= '2019-03-20 19:00:00') OR
					(ri.end_date >= '2019-03-20 09:00:00' AND ri.end_date <= '2019-03-20 19:00:00') OR
					(ri.start_date <= '2019-03-20 09:00:00' AND ri.end_date >= '2019-03-20 19:00:00')) AND
					('-1' = -1 OR ru.user_id = '-1') AND
					('1' = 0 OR ru.reservation_user_level = '1') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM reservation_instances r
		INNER JOIN reservation_series rs ON r.series_id = rs.series_id
		WHERE
			r.reservation_instance_id = '622' AND
			status_id <> 2;
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM reservation_instances
		WHERE series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, rr.resource_level_id, s.admin_group_id as s_admin_group_id
		FROM reservation_resources rr
		INNER JOIN resources r ON rr.resource_id = r.resource_id
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		WHERE rr.series_id = '623'
		ORDER BY resource_level_id, r.name;
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT ru.*, ri.*
		FROM reservation_users ru
		INNER JOIN reservation_instances ri ON ru.reservation_instance_id = ri.reservation_instance_id
		WHERE series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM reservation_accessories ra
		INNER JOIN accessories a ON ra.accessory_id = a.accessory_id
		WHERE ra.series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '1' AND cav.entity_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_files WHERE series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_reminders WHERE series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT rg.*, ri.*
			FROM reservation_guests rg
			INNER JOIN reservation_instances ri ON rg.reservation_instance_id = ri.reservation_instance_id
			WHERE series_id = '623';
2019-03-18T11:44:49+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE reservation_series
		    SET status_id = '2',
			last_modified = '2019-03-18 11:44:49'
		  WHERE series_id = '623';
2019-03-18T11:44:51+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series (date_created, title, owner_id, repeat_type, repeat_options, announce_id) VALUES ('2019-03-18 11:44:51', 'TEM Lecture at M136 and SEM &amp; TEM Demonstration at E 117 &amp; E 121', '2', 'none', '', '3');
2019-03-18T11:44:51+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series_resources (blackout_series_id, resource_id) VALUES ('5', '25');
2019-03-18T11:44:51+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_instances (start_date, end_date, blackout_series_id)
		VALUES ('2019-03-20 09:00:00', '2019-03-20 19:00:00', '5');
2019-03-18T11:44:55+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T11:44:55+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:44:55+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-18T11:44:55+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T11:48:14+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '400') ORDER BY lname, fname) results;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '400') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-18T11:48:26+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '400';
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '400';
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '400' AND r.resource_id = urp.resource_id;
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '400' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '400';
2019-03-18T11:48:35+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '400' AND r.resource_id = urp.resource_id;
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '400' AND (null is null OR r.role_level IN (null) );
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'bd1c548118a2af6df59e944caf112baebe16bd4f',
			salt = '0b41b50c',
			fname = 'Chadapon',
			lname = 'Srikamut',
			email = '1730310@vistec.ac.th',
			username = 'dacchasr',
			homepageId = '1',
			last_modified = '2019-03-18 11:48:43',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5c8f1c022edb1',
			language = 'en_us',
			lastlogin = '2019-03-18 11:18:10',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '400';
2019-03-18T11:48:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('400', '25');
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T12:35:33+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T12:35:37+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T12:35:41+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T12:35:46+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('442', '2');
2019-03-18T12:35:46+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:26:28+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:26:35+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:26:47+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('444', '7');
2019-03-18T13:26:47+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:26:54+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:27:03+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:27:10+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('444', '8');
2019-03-18T13:27:10+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:27:14+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:27:22+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:28:06+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('451', '11');
2019-03-18T13:28:06+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T13:28:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '7';
2019-03-18T13:28:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '7';
2019-03-18T13:28:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '7';
2019-03-18T13:28:45+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'DSC',
			location = 'MSE',
			contact_info = 'Name: Meshaya Pruettiphap\nContact No.: 033-014013, 062-464-9941\nE-mail: Meshaya.p@vistec.ac.th',
			description = null,
			notes = 'M117',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource7.png',
			schedule_id = '1',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '7',
			status_id = '1',
			resource_status_reason_id = null,
			buffer_time = null,
			color = '#ff0080',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '7';
2019-03-18T13:28:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '9';
2019-03-18T13:28:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '9';
2019-03-18T13:28:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '9';
2019-03-18T13:28:57+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'CHNS',
			location = 'ESE',
			contact_info = 'Name: Meshaya Pruettiphap\nContact No.: 033-014013, 062-464-9941\nE-mail: Meshaya.p@vistec.ac.th',
			description = null,
			notes = 'E119',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource9.png',
			schedule_id = '1',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '5',
			status_id = '1',
			resource_status_reason_id = null,
			buffer_time = null,
			color = '#ff80c0',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '9';
2019-03-18T13:29:09+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '22';
2019-03-18T13:29:09+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '22';
2019-03-18T13:29:09+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '22';
2019-03-18T13:29:09+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'FT-RAMAN',
			location = 'MSE',
			contact_info = 'Name: Napatsorn Makoknoi\nContact No.: 033-014016, 081-907-3686\nE-mail: Napatsorn.m@vistec.ac.th',
			description = 'Please fill out the following form in as much detail as possible\n1. Type of sample(s):..................(e.g. Powder, Liquid, Film, ETC.)\n2. The number of sample:.................\n3. Advisor:.........................................\n3. Remark:........................(if any)',
			notes = 'M115',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource22.jpg',
			schedule_id = '1',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '2',
			status_id = '1',
			resource_status_reason_id = null,
			buffer_time = null,
			color = '#0080c0',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '22';
2019-03-18T13:29:24+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '10';
2019-03-18T13:29:24+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '10';
2019-03-18T13:29:24+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '10';
2019-03-18T13:29:24+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'AFM',
			location = 'MSE',
			contact_info = 'Name: Meshaya Pruettiphap\nContact No.: 033-014013, 062-464-9941\nE-mail: Meshaya.p@vistec.ac.th',
			description = null,
			notes = 'M117',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource10.png',
			schedule_id = '1',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '1',
			status_id = '1',
			resource_status_reason_id = '1',
			buffer_time = null,
			color = '#ff8080',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '10';
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:29:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:29:43+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '12';
2019-03-18T13:29:43+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '12';
2019-03-18T13:29:43+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '12';
2019-03-18T13:29:43+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'ICP-OES',
			location = 'ESE',
			contact_info = 'Name: Jarinya Sittiwong\nContact No.: 033-014011/ 089-155-1728\nE-mail: Jarinya.s@vistec.ac.th',
			description = null,
			notes = 'E120',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource12.jpg',
			schedule_id = '1',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '5',
			status_id = '1',
			resource_status_reason_id = null,
			buffer_time = null,
			color = '#804040',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '12';
2019-03-18T13:29:53+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '28';
2019-03-18T13:29:53+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '28';
2019-03-18T13:29:53+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '28';
2019-03-18T13:29:53+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'NMR (Night Time)',
			location = 'MSE',
			contact_info = 'Name: Meshaya Pruettiphap\nContact No.: 033-014013, 062-464-9941\nE-mail: Meshaya.p@vistec.ac.th',
			description = null,
			notes = 'M121',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource28.jpg',
			schedule_id = '22',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '2',
			status_id = '1',
			resource_status_reason_id = '1',
			buffer_time = null,
			color = '#ff0080',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '28';
2019-03-18T13:30:03+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
			FROM resources r
			INNER JOIN schedules s ON r.schedule_id = s.schedule_id
			WHERE r.resource_id = '8';
2019-03-18T13:30:03+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '4' AND cav.entity_id = '8';
2019-03-18T13:30:03+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_group_assignment WHERE resource_id = '8';
2019-03-18T13:30:03+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE resources
		SET
			name = 'TGA',
			location = 'ESE',
			contact_info = 'Name: Meshaya Pruettiphap\nContact No.: 033-014013, 062-464-9941\nE-mail: Meshaya.p@vistec.ac.th',
			description = null,
			notes = 'E120',
			min_duration = null,
			max_duration = null,
			autoassign = '0',
			requires_approval = '0',
			allow_multiday_reservations = '1',
			max_participants = null,
			min_notice_time = null,
			max_notice_time = null,
			image_name = 'resource8.png',
			schedule_id = '8',
			admin_group_id = null,
			allow_calendar_subscription = '0',
			public_id = null,
			sort_order = '0',
			resource_type_id = '7',
			status_id = '1',
			resource_status_reason_id = null,
			buffer_time = null,
			color = '#ff8040',
			enable_check_in = '0',
			auto_release_minutes = null,
			allow_display = '0',
			credit_count = '0.00',
			peak_credit_count = '0.00'
		WHERE
			resource_id = '8';
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T13:30:05+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:18:34+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:18:39+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:18:43+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T14:18:53+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('512', '2');
2019-03-18T14:18:53+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T14:19:09+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('513', '2');
2019-03-18T14:19:09+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:19:29+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T14:19:36+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '17' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T14:19:40+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('513', '17');
2019-03-18T14:19:40+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '17' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T14:19:44+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('512', '17');
2019-03-18T14:19:45+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '17' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T15:39:34+07:00 [11548] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T15:39:39+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T15:39:42+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T15:39:48+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('423', '13');
2019-03-18T15:39:48+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T16:47:23+07:00 [7859] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-18T16:47:30+07:00 [11577] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '18' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
