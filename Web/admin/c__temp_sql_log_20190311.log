2019-03-11T10:18:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:18:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:18:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:19:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:19:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:19:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:20:16+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:21:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('400', '19');
2019-03-11T10:21:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:22:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:22:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:23:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:23:12+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:23:23+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('491', '2');
2019-03-11T10:23:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:23:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('480', '2');
2019-03-11T10:23:34+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:23:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('479', '2');
2019-03-11T10:23:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:23:59+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:24:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '2');
2019-03-11T10:24:08+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:29:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T10:37:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:37:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:37:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:37:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:47:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:48:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:48:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:48:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_instances bi
		INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
		INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
		INNER JOIN resources r on bsr.resource_id = r.resource_id
		INNER JOIN users u ON u.user_id = bs.owner_id
		WHERE
			(
				(bi.start_date >= '2019-03-11 10:00:00' AND bi.start_date <= '2020-03-31 11:00:00')
				OR
				(bi.end_date >= '2019-03-11 10:00:00' AND bi.end_date <= '2020-03-31 11:00:00')
				OR
				(bi.start_date <= '2019-03-11 10:00:00' AND bi.end_date >= '2020-03-31 11:00:00')
			) AND
			('-1' = -1 OR r.schedule_id = '-1')
		ORDER BY bi.start_date ASC;
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2019-03-11 10:00:00' AND ri.start_date <= '2020-03-31 11:00:00') OR
					(ri.end_date >= '2019-03-11 10:00:00' AND ri.end_date <= '2020-03-31 11:00:00') OR
					(ri.start_date <= '2019-03-11 10:00:00' AND ri.end_date >= '2020-03-31 11:00:00')) AND
					('-1' = -1 OR ru.user_id = '-1') AND
					('1' = 0 OR ru.reservation_user_level = '1') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series (date_created, title, owner_id, repeat_type, repeat_options, announce_id) VALUES ('2019-03-11 10:50:07', 'Booking with Dr.Somlak', '2', 'none', '', '1');
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series_resources (blackout_series_id, resource_id) VALUES ('1', '20');
2019-03-11T10:50:07+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_instances (start_date, end_date, blackout_series_id)
		VALUES ('2019-03-11 10:00:00', '2020-03-31 11:00:00', '1');
2019-03-11T10:50:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:50:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:50:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:50:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:50:36+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:50:36+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:50:36+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:50:36+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_series bs
		INNER JOIN blackout_instances bi ON bi.blackout_series_id = bs.blackout_series_id
		WHERE blackout_instance_id = '1';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM blackout_instances WHERE blackout_series_id = '1';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
		FROM blackout_series_resources rr
		INNER JOIN resources r ON rr.resource_id = r.resource_id
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		WHERE rr.blackout_series_id = '1'
		ORDER BY r.name;
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T10:50:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_series bs
		INNER JOIN blackout_instances bi ON bi.blackout_series_id = bs.blackout_series_id
		WHERE blackout_instance_id = '1';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM blackout_instances WHERE blackout_series_id = '1';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
		FROM blackout_series_resources rr
		INNER JOIN resources r ON rr.resource_id = r.resource_id
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		WHERE rr.blackout_series_id = '1'
		ORDER BY r.name;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_instances bi
		INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
		INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
		INNER JOIN resources r on bsr.resource_id = r.resource_id
		INNER JOIN users u ON u.user_id = bs.owner_id
		WHERE
			(
				(bi.start_date >= '2019-03-11 10:00:00' AND bi.start_date <= '2020-03-31 11:00:00')
				OR
				(bi.end_date >= '2019-03-11 10:00:00' AND bi.end_date <= '2020-03-31 11:00:00')
				OR
				(bi.start_date <= '2019-03-11 10:00:00' AND bi.end_date >= '2020-03-31 11:00:00')
			) AND
			('-1' = -1 OR r.schedule_id = '-1')
		ORDER BY bi.start_date ASC;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2019-03-11 10:00:00' AND ri.start_date <= '2020-03-31 11:00:00') OR
					(ri.end_date >= '2019-03-11 10:00:00' AND ri.end_date <= '2020-03-31 11:00:00') OR
					(ri.start_date <= '2019-03-11 10:00:00' AND ri.end_date >= '2020-03-31 11:00:00')) AND
					('-1' = -1 OR ru.user_id = '-1') AND
					('1' = 0 OR ru.reservation_user_level = '1') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE blackout_series FROM blackout_series
		INNER JOIN blackout_instances ON blackout_series.blackout_series_id = blackout_instances.blackout_series_id
		WHERE blackout_instance_id = '1';
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series (date_created, title, owner_id, repeat_type, repeat_options, announce_id) VALUES ('2019-03-11 10:50:57', 'Pelase Contact Dr.Somlak for Booking', '2', 'none', '', '1');
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series_resources (blackout_series_id, resource_id) VALUES ('2', '20');
2019-03-11T10:50:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_instances (start_date, end_date, blackout_series_id)
		VALUES ('2019-03-11 10:00:00', '2020-03-31 11:00:00', '2');
2019-03-11T10:50:59+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:50:59+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:50:59+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:50:59+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:52:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:52:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:52:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:52:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_series bs
		INNER JOIN blackout_instances bi ON bi.blackout_series_id = bs.blackout_series_id
		WHERE blackout_instance_id = '2';
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM blackout_instances WHERE blackout_series_id = '2';
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
		FROM blackout_series_resources rr
		INNER JOIN resources r ON rr.resource_id = r.resource_id
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		WHERE rr.blackout_series_id = '2'
		ORDER BY r.name;
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T10:52:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T10:52:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_series bs
		INNER JOIN blackout_instances bi ON bi.blackout_series_id = bs.blackout_series_id
		WHERE blackout_instance_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM blackout_instances WHERE blackout_series_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id
		FROM blackout_series_resources rr
		INNER JOIN resources r ON rr.resource_id = r.resource_id
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		WHERE rr.blackout_series_id = '2'
		ORDER BY r.name;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM blackout_instances bi
		INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
		INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
		INNER JOIN resources r on bsr.resource_id = r.resource_id
		INNER JOIN users u ON u.user_id = bs.owner_id
		WHERE
			(
				(bi.start_date >= '2019-03-11 10:00:00' AND bi.start_date <= '2020-03-31 11:00:00')
				OR
				(bi.end_date >= '2019-03-11 10:00:00' AND bi.end_date <= '2020-03-31 11:00:00')
				OR
				(bi.start_date <= '2019-03-11 10:00:00' AND bi.end_date >= '2020-03-31 11:00:00')
			) AND
			('-1' = -1 OR r.schedule_id = '-1')
		ORDER BY bi.start_date ASC;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2019-03-11 10:00:00' AND ri.start_date <= '2020-03-31 11:00:00') OR
					(ri.end_date >= '2019-03-11 10:00:00' AND ri.end_date <= '2020-03-31 11:00:00') OR
					(ri.start_date <= '2019-03-11 10:00:00' AND ri.end_date >= '2020-03-31 11:00:00')) AND
					('-1' = -1 OR ru.user_id = '-1') AND
					('1' = 0 OR ru.reservation_user_level = '1') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE blackout_series FROM blackout_series
		INNER JOIN blackout_instances ON blackout_series.blackout_series_id = blackout_instances.blackout_series_id
		WHERE blackout_instance_id = '2';
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series (date_created, title, owner_id, repeat_type, repeat_options, announce_id) VALUES ('2019-03-11 10:53:05', 'Please Contact Dr.Somlak for Booking', '2', 'none', '', '1');
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_series_resources (blackout_series_id, resource_id) VALUES ('3', '20');
2019-03-11T10:53:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO blackout_instances (start_date, end_date, blackout_series_id)
		VALUES ('2019-03-11 10:00:00', '2020-03-31 11:00:00', '3');
2019-03-11T10:53:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T10:53:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T10:53:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC) results;
2019-03-11T10:53:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT bi.*, r.resource_id, r.name, u.*, bs.description, bs.title, bs.repeat_type, bs.repeat_options, schedules.schedule_id
					FROM blackout_instances bi
					INNER JOIN blackout_series bs ON bi.blackout_series_id = bs.blackout_series_id
					INNER JOIN blackout_series_resources bsr ON  bi.blackout_series_id = bsr.blackout_series_id
					INNER JOIN resources r on bsr.resource_id = r.resource_id
					INNER JOIN schedules on r.schedule_id = schedules.schedule_id
					INNER JOIN users u ON u.user_id = bs.owner_id
		 WHERE 1=1 ORDER BY bi.start_date DESC LIMIT 20 OFFSET 0;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:37:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:39:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO layouts (timezone) VALUES ('Asia/Bangkok');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '00:00:00', '2', null, '0');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '09:00:00', '2', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:00:00', '09:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:30:00', '10:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '10:00:00', '10:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '10:30:00', '11:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '11:00:00', '11:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '11:30:00', '12:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:00:00', '12:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:30:00', '13:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:00:00', '13:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:30:00', '14:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '14:00:00', '14:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '14:30:00', '15:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '15:00:00', '15:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '15:30:00', '16:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:00:00', '16:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:30:00', '17:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '17:00:00', '17:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '17:30:00', '18:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '18:00:00', '18:30:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '18:30:00', '19:00:00', '1', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '19:00:00', '00:00:00', '2', null, '1');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '09:00:00', '2', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:00:00', '12:00:00', '1', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:00:00', '13:00:00', '2', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:00:00', '16:00:00', '1', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:00:00', '19:00:00', '1', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '19:00:00', '00:00:00', '2', null, '2');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '09:00:00', '2', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:00:00', '12:00:00', '1', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:00:00', '13:00:00', '2', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:00:00', '16:00:00', '1', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:00:00', '19:00:00', '1', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '19:00:00', '00:00:00', '2', null, '3');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '09:00:00', '2', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:00:00', '12:00:00', '1', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:00:00', '13:00:00', '2', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:00:00', '16:00:00', '1', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:00:00', '19:00:00', '1', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '19:00:00', '00:00:00', '2', null, '4');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '09:00:00', '2', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '09:00:00', '12:00:00', '1', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '12:00:00', '13:00:00', '2', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '13:00:00', '16:00:00', '1', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '16:00:00', '19:00:00', '1', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '19:00:00', '00:00:00', '2', null, '5');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('84', '00:00:00', '00:00:00', '2', null, '6');
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			layout_id = '84'
		WHERE
			schedule_id = '16';
2019-03-11T12:40:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE l.* FROM layouts l LEFT JOIN schedules s ON l.layout_id = s.layout_id WHERE s.layout_id IS NULL;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:40:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:40:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO layouts (timezone) VALUES ('Asia/Bangkok');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '00:00:00', '2', null, '0');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '09:00:00', '2', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:00:00', '09:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:30:00', '10:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '10:00:00', '10:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '10:30:00', '11:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '11:00:00', '11:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '11:30:00', '12:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:00:00', '12:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:30:00', '13:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:00:00', '13:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:30:00', '14:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '14:00:00', '14:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '14:30:00', '15:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '15:00:00', '15:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '15:30:00', '16:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:00:00', '16:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:30:00', '17:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '17:00:00', '17:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '17:30:00', '18:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '18:00:00', '18:30:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '18:30:00', '19:00:00', '1', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '19:00:00', '00:00:00', '2', null, '1');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '09:00:00', '2', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:00:00', '12:00:00', '1', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:00:00', '13:00:00', '2', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:00:00', '16:00:00', '1', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:00:00', '19:00:00', '1', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '19:00:00', '00:00:00', '2', null, '2');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '09:00:00', '2', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:00:00', '12:00:00', '1', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:00:00', '13:00:00', '2', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:00:00', '16:00:00', '1', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:00:00', '19:00:00', '1', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '19:00:00', '00:00:00', '2', null, '3');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '09:00:00', '2', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:00:00', '12:00:00', '1', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:00:00', '13:00:00', '2', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:00:00', '16:00:00', '1', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:00:00', '19:00:00', '1', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '19:00:00', '00:00:00', '2', null, '4');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '09:00:00', '2', null, '5');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '09:00:00', '12:00:00', '1', null, '5');
2019-03-11T12:41:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '12:00:00', '13:00:00', '2', null, '5');
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '13:00:00', '16:00:00', '1', null, '5');
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '16:00:00', '19:00:00', '1', null, '5');
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '19:00:00', '00:00:00', '2', null, '5');
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('85', '00:00:00', '00:00:00', '2', null, '6');
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			layout_id = '85'
		WHERE
			schedule_id = '16';
2019-03-11T12:41:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE l.* FROM layouts l LEFT JOIN schedules s ON l.layout_id = s.layout_id WHERE s.layout_id IS NULL;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:41:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO layouts (timezone) VALUES ('Asia/Bangkok');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '00:00:00', '2', null, '0');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '09:00:00', '2', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '09:00:00', '12:00:00', '1', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '12:00:00', '13:00:00', '2', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '13:00:00', '16:00:00', '1', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '16:00:00', '19:00:00', '1', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '19:00:00', '00:00:00', '2', null, '1');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '09:00:00', '2', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '09:00:00', '12:00:00', '1', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '12:00:00', '13:00:00', '2', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '13:00:00', '16:00:00', '1', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '16:00:00', '19:00:00', '1', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '19:00:00', '00:00:00', '2', null, '2');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '09:00:00', '2', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '09:00:00', '12:00:00', '1', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '12:00:00', '13:00:00', '2', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '13:00:00', '16:00:00', '1', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '16:00:00', '19:00:00', '1', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '19:00:00', '00:00:00', '2', null, '3');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '09:00:00', '2', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '09:00:00', '12:00:00', '1', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '12:00:00', '13:00:00', '2', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '13:00:00', '16:00:00', '1', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '16:00:00', '19:00:00', '1', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '19:00:00', '00:00:00', '2', null, '4');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '09:00:00', '2', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '09:00:00', '12:00:00', '1', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '12:00:00', '13:00:00', '2', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '13:00:00', '16:00:00', '1', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '16:00:00', '19:00:00', '1', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '19:00:00', '00:00:00', '2', null, '5');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('86', '00:00:00', '00:00:00', '2', null, '6');
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			layout_id = '86'
		WHERE
			schedule_id = '16';
2019-03-11T12:43:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE l.* FROM layouts l LEFT JOIN schedules s ON l.layout_id = s.layout_id WHERE s.layout_id IS NULL;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:43:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:44:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:44:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:46:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:49:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO layouts (timezone) VALUES ('Asia/Bangkok');
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '00:00:00', '01:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '01:00:00', '02:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '02:00:00', '03:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '03:00:00', '04:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '04:00:00', '05:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '05:00:00', '06:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '06:00:00', '07:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '07:00:00', '08:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '08:00:00', '09:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '09:00:00', '10:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '10:00:00', '11:00:00', '1', null, null);
2019-03-11T12:50:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '11:00:00', '12:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '12:00:00', '13:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '13:00:00', '14:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '14:00:00', '15:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '15:00:00', '16:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '16:00:00', '17:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '17:00:00', '18:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '18:00:00', '19:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '19:00:00', '20:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '20:00:00', '21:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '21:00:00', '22:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '22:00:00', '23:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO time_blocks (layout_id, start_time, end_time, availability_code, label, day_of_week)
		VALUES ('87', '23:00:00', '00:00:00', '1', null, null);
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			layout_id = '87'
		WHERE
			schedule_id = '12';
2019-03-11T12:50:19+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE l.* FROM layouts l LEFT JOIN schedules s ON l.layout_id = s.layout_id WHERE s.layout_id IS NULL;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:50:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:50:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:51:13+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '13';
2019-03-11T12:51:13+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'UV/VIS/NIR',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = '5c3c0335179d5',
			admin_group_id = null
		WHERE
			schedule_id = '13';
2019-03-11T12:51:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '12';
2019-03-11T12:51:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'UV-VIS',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = null,
			admin_group_id = null
		WHERE
			schedule_id = '12';
2019-03-11T12:51:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '21';
2019-03-11T12:51:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'FLS',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = null,
			admin_group_id = null
		WHERE
			schedule_id = '21';
2019-03-11T12:51:38+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '20';
2019-03-11T12:51:38+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'LC-QTOF',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = null,
			admin_group_id = null
		WHERE
			schedule_id = '20';
2019-03-11T12:51:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '22';
2019-03-11T12:51:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'Night',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = null,
			admin_group_id = null
		WHERE
			schedule_id = '22';
2019-03-11T12:51:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM schedules s
		INNER JOIN layouts l ON s.layout_id = l.layout_id
		WHERE schedule_id = '16';
2019-03-11T12:51:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE schedules
		SET
			name = 'TEM',
			isdefault = '0',
			weekdaystart = '1',
			daysvisible = '7',
			allow_calendar_subscription = '0',
			public_id = null,
			admin_group_id = null
		WHERE
			schedule_id = '16';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:51:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T12:54:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T12:54:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:54:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:54:52+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:55:04+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '207' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-11T12:55:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '207' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-11T12:55:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:55:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM custom_attributes WHERE custom_attribute_id = '13';
2019-03-11T12:55:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM custom_attribute_values WHERE custom_attribute_id = '13';
2019-03-11T12:55:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM reservation_color_rules WHERE custom_attribute_id = '13';
2019-03-11T12:55:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:56:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO custom_attributes (display_label, display_type, attribute_category, validation_regex, is_required, possible_values, sort_order, admin_only, secondary_category, secondary_entity_ids, is_private)
		VALUES ('FRC items to be borrowed', '4', '1', '', '0', null, '0', '0', '4', '2', '0');
2019-03-11T12:56:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:57:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a	WHERE custom_attribute_id = '36';
2019-03-11T12:57:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE custom_attributes
				SET display_label = 'FRC items to be borrowed', display_type = '4', attribute_category = '1',
				validation_regex = '', is_required = '0', possible_values = null, sort_order = '1', admin_only = '0',
				secondary_category = '4', secondary_entity_ids = '2', is_private = '0'
			WHERE custom_attribute_id = '36';
2019-03-11T12:57:41+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T12:58:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM custom_attributes WHERE custom_attribute_id = '36';
2019-03-11T12:58:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM custom_attribute_values WHERE custom_attribute_id = '36';
2019-03-11T12:58:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE FROM reservation_color_rules WHERE custom_attribute_id = '36';
2019-03-11T12:58:55+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:01:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:01:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO custom_attributes (display_label, display_type, attribute_category, validation_regex, is_required, possible_values, sort_order, admin_only, secondary_category, secondary_entity_ids, is_private)
		VALUES ('FRC items to be borrowed', '3', '1', '', '1', 'PMMA holder (small),PMMA holder (large),Silicon Low Background holder,Air Sensitive holder,None', '1', '0', '4', '2', '0');
2019-03-11T13:01:28+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:03:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:09:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '404') ORDER BY lname, fname) results;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '404') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:10:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:11:23+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:14:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name) results;
2019-03-11T13:14:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name LIMIT 20 OFFSET 0;
2019-03-11T13:14:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:14:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '1'
		ORDER BY g.name;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:14:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:14:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:14:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:15:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:15:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:15:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:15:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:16:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:16:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:16:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '444' AND resource_id = '24';
2019-03-11T13:16:41+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:16:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('430', '24');
2019-03-11T13:16:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:17:24+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('435', '24');
2019-03-11T13:17:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name) results;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name LIMIT 10 OFFSET 0;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '8'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '8';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '1'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '1';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '9'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '9';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '21'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '21';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '20'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '20';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '22'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '22';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '16'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '16';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '12'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '12';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			tb.label,
			tb.end_label,
			tb.start_time,
			tb.end_time,
			tb.availability_code,
			tb.day_of_week,
			l.timezone
		FROM
			time_blocks tb,
			layouts l,
			schedules s
		WHERE
			l.layout_id = s.layout_id  AND
			tb.layout_id = l.layout_id AND
			s.schedule_id = '13'
		ORDER BY tb.start_time;
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM peak_times WHERE schedule_id = '13';
2019-03-11T13:17:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '4'
		ORDER BY g.name;
2019-03-11T13:17:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('431', '24');
2019-03-11T13:17:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:17:57+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('433', '24');
2019-03-11T13:17:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc) results;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc LIMIT 20 OFFSET 0;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:10+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc) results;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc LIMIT 20 OFFSET 40;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:14+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc) results;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY username asc LIMIT 20 OFFSET 20;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:18:42+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('402', '24');
2019-03-11T13:18:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:18:57+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:18:58+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('400', '24');
2019-03-11T13:18:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:19:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:19:23+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:19:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:19:29+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('430', '14');
2019-03-11T13:19:29+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:19:46+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:19:58+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('479', '16');
2019-03-11T13:19:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:20:21+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '16');
2019-03-11T13:20:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:20:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'napatsorn.m@vistec.ac.th') );
2019-03-11T13:20:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'Napatsorn') OR (email IS NOT NULL AND email = null) );
2019-03-11T13:20:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO
			users (email, password, fname, lname, phone, organization, position_id, username, salt, timezone, language, homepageid, status_id, date_created, public_id, default_schedule_id)
		VALUES
			('napatsorn.m@vistec.ac.th', '5e25c53a0b520f3033285045bca1d4469b3d4c40', 'Napatsorn', 'Makoknoi', null, null, @position, 'Napatsorn', '5845b5ec', 'Asia/Bangkok', 'en_us', '1', '1', '2019-03-11 13:20:44', null, null);
2019-03-11T13:20:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = null,
			advisor_name = null,
			line_ID = null,
			student_ID = null,
			is_admin = '0'
		WHERE
			user_id = '538';
2019-03-11T13:20:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO user_resource_permissions (user_id, resource_id)
		SELECT '538' as user_id, resource_id
		FROM resources
		WHERE autoassign=1;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:20:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:21:20+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '16');
2019-03-11T13:21:20+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:21:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:21:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:22:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:22:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:22:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:22:54+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:23:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:23:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:28+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:24:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:24:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:25:01+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:25:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('434', '28');
2019-03-11T13:25:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:25:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:25:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'e6a17722e328faec0f3bd2c3924b2299c49a2c3b',
			salt = '712132b5',
			fname = 'Admin',
			lname = 'A.',
			email = 'Frc.booking@vistec.ac.th',
			username = 'admin',
			homepageId = '1',
			last_modified = '2019-03-11 13:25:24',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5a0a250765a11',
			language = 'en_us',
			lastlogin = '2019-03-11 13:14:17',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '2';
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:25:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:25:31+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'e6a17722e328faec0f3bd2c3924b2299c49a2c3b',
			salt = '712132b5',
			fname = 'Admin',
			lname = 'A.',
			email = 'Frc.booking@vistec.ac.th',
			username = 'admin',
			homepageId = '1',
			last_modified = '2019-03-11 13:25:31',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5a0a250765a11',
			language = 'en_us',
			lastlogin = '2019-03-11 13:14:17',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '2';
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '394';
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '394';
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '394' AND r.resource_id = urp.resource_id;
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '394' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '394';
2019-03-11T13:25:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '394';
2019-03-11T13:25:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('458', '28');
2019-03-11T13:25:33+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:25:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:25:43+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '12' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:25:47+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:25:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('479', '8');
2019-03-11T13:25:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname) results;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '2') ORDER BY lname, fname) results;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '2') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:26:22+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('438', '7');
2019-03-11T13:26:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '411') ORDER BY lname, fname) results;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '411') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:38+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:26:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:27:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:27:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('479', '7');
2019-03-11T13:27:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:27:51+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:28:04+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '424' AND resource_id = '14';
2019-03-11T13:28:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:28:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname) results;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:28:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:28:10+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '418' AND resource_id = '14';
2019-03-11T13:28:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'e6a17722e328faec0f3bd2c3924b2299c49a2c3b',
			salt = '712132b5',
			fname = 'Admin',
			lname = 'A.',
			email = 'Frc.booking@vistec.ac.th',
			username = 'admin',
			homepageId = '1',
			last_modified = '2019-03-11 13:28:13',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5a0a250765a11',
			language = 'en_us',
			lastlogin = '2019-03-11 13:27:59',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '2';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '538' WHERE user_id = '2' AND name = 'FilterUserId';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = 'Napatsorn Makoknoi' WHERE user_id = '2' AND name = 'FilterUserName';
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-11T13:28:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname) results;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE ( (0 = '0' OR status_id = '0') ) AND (user_id = '538') ORDER BY lname, fname LIMIT 1 OFFSET 0;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:28:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '538';
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '538';
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '538' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '538' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '538';
2019-03-11T13:28:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '538' AND r.resource_id = urp.resource_id;
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '538' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '5e25c53a0b520f3033285045bca1d4469b3d4c40',
			salt = '5845b5ec',
			fname = 'Napatsorn',
			lname = 'Makoknoi',
			email = 'napatsorn.m@vistec.ac.th',
			username = 'Napatsorn',
			homepageId = '1',
			last_modified = '2019-03-11 13:28:32',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5c85ffc0d084a',
			language = 'en_us',
			lastlogin = '2019-03-11 13:27:12',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '538';
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '10');
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '17');
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '9');
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '23');
2019-03-11T13:28:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '18');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '7');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '26');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '22');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '15');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '11');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '13');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '12');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '24');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '14');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '28');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '19');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '25');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '8');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '27');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '16');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '21');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '20');
2019-03-11T13:28:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('538', '2');
2019-03-11T13:28:47+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '14');
2019-03-11T13:28:47+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:29:16+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:29:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:29:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:29:37+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('404', '28');
2019-03-11T13:29:37+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:29:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:29:53+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:29:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:30:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:30:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:30:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:31:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '14');
2019-03-11T13:31:09+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:32:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:32:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '24');
2019-03-11T13:32:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:32:36+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:32:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:32:50+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('398', '9');
2019-03-11T13:32:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:32:55+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '27' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:33:12+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:33:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('411', '11');
2019-03-11T13:33:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:33:44+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('403', '11');
2019-03-11T13:33:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:34:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('451', '27');
2019-03-11T13:34:08+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '27' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:34:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '27');
2019-03-11T13:34:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '27' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:34:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:34:40+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:34:59+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('448', '28');
2019-03-11T13:34:59+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('412', '28');
2019-03-11T13:35:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:23+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('403', '28');
2019-03-11T13:35:23+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:30+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('402', '28');
2019-03-11T13:35:30+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:37+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('410', '28');
2019-03-11T13:35:37+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:43+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('398', '28');
2019-03-11T13:35:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:35:53+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('411', '28');
2019-03-11T13:35:53+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:36:04+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('400', '28');
2019-03-11T13:36:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:36:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('401', '28');
2019-03-11T13:36:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:36:42+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('391', '28');
2019-03-11T13:36:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:36:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('384', '28');
2019-03-11T13:36:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:36:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:37:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:37:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:37:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('384', '9');
2019-03-11T13:37:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:37:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:38:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:38:04+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:38:14+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('386', '28');
2019-03-11T13:38:15+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:38:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('393', '28');
2019-03-11T13:38:24+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:38:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('392', '28');
2019-03-11T13:38:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:38:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('385', '28');
2019-03-11T13:38:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:38:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('387', '28');
2019-03-11T13:38:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:01+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('436', '28');
2019-03-11T13:39:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('436', '28');
2019-03-11T13:39:04+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:25+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('388', '28');
2019-03-11T13:39:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('455', '28');
2019-03-11T13:39:34+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('461', '28');
2019-03-11T13:39:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:39:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('469', '28');
2019-03-11T13:39:57+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:40:05+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('491', '28');
2019-03-11T13:40:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:40:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('469', '28');
2019-03-11T13:40:15+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:40:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('414', '28');
2019-03-11T13:40:38+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:40:47+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('472', '28');
2019-03-11T13:40:47+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:40:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('490', '28');
2019-03-11T13:40:54+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:01+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('489', '28');
2019-03-11T13:41:01+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('450', '28');
2019-03-11T13:41:08+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('437', '28');
2019-03-11T13:41:19+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('454', '28');
2019-03-11T13:41:28+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('459', '28');
2019-03-11T13:41:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('465', '28');
2019-03-11T13:41:44+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:41:50+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('452', '28');
2019-03-11T13:41:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:42:02+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '28');
2019-03-11T13:42:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:42:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('462', '28');
2019-03-11T13:42:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:42:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('460', '28');
2019-03-11T13:42:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:42:43+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('463', '28');
2019-03-11T13:42:43+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:43:02+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:43:06+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('452', '10');
2019-03-11T13:43:13+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:21+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '10');
2019-03-11T13:43:21+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('452', '7');
2019-03-11T13:43:32+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:38+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('453', '7');
2019-03-11T13:43:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:43:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:43:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:44:00+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('470', '28');
2019-03-11T13:44:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:44:32+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('457', '28');
2019-03-11T13:44:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:44:47+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('468', '28');
2019-03-11T13:44:47+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('451', '28');
2019-03-11T13:45:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = null) OR (email IS NOT NULL AND email = 'ratchawan.j@vistec.ac.th') );
2019-03-11T13:45:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *
		FROM users
		WHERE ( (username IS NOT NULL AND username = 'Eimratcha') OR (email IS NOT NULL AND email = null) );
2019-03-11T13:45:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO
			users (email, password, fname, lname, phone, organization, position_id, username, salt, timezone, language, homepageid, status_id, date_created, public_id, default_schedule_id)
		VALUES
			('ratchawan.j@vistec.ac.th', '65170e3eef5ac9711255c17336ce9e79f9c2a0bb', 'Ratchawan', 'Jarumanee', null, null, @position, 'Eimratcha', '0ec56c59', 'Asia/Bangkok', 'en_us', '1', '1', '2019-03-11 13:45:15', null, null);
2019-03-11T13:45:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE	users
		SET
			nickname = 'Eim',
			advisor_name = null,
			line_ID = null,
			student_ID = null,
			is_admin = '0'
		WHERE
			user_id = '539';
2019-03-11T13:45:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO user_resource_permissions (user_id, resource_id)
		SELECT '539' as user_id, resource_id
		FROM resources
		WHERE autoassign=1;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:45:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:45:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('467', '28');
2019-03-11T13:45:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '28');
2019-03-11T13:45:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:30+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:45:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('395', '28');
2019-03-11T13:45:41+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('396', '28');
2019-03-11T13:45:49+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:45:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('408', '28');
2019-03-11T13:45:56+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:46:03+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('399', '28');
2019-03-11T13:46:03+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:46:12+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('431', '28');
2019-03-11T13:46:12+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:46:20+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('433', '28');
2019-03-11T13:46:20+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:46:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('430', '28');
2019-03-11T13:46:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:46:35+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:46:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:46:51+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:47:00+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('430', '11');
2019-03-11T13:47:00+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:47:22+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('401', '11');
2019-03-11T13:47:22+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:47:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:47:30+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('474', '11');
2019-03-11T13:47:30+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:47:56+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:48:01+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:48:07+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('432', '11');
2019-03-11T13:48:11+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '2');
2019-03-11T13:48:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '2' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:20+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('435', '11');
2019-03-11T13:48:20+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('489', '11');
2019-03-11T13:48:26+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:38+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('438', '11');
2019-03-11T13:48:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '432' AND resource_id = '11';
2019-03-11T13:48:43+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:44+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '435' AND resource_id = '11';
2019-03-11T13:48:44+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '438' AND resource_id = '11';
2019-03-11T13:48:46+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:47+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '489' AND resource_id = '11';
2019-03-11T13:48:47+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:48:58+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:49:02+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:49:17+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('432', '28');
2019-03-11T13:49:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:49:27+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('435', '28');
2019-03-11T13:49:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:49:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('489', '28');
2019-03-11T13:49:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:49:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('438', '28');
2019-03-11T13:49:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:49:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('466', '28');
2019-03-11T13:49:51+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:50:16+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('501', '28');
2019-03-11T13:50:16+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:50:42+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:50:47+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:50:51+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname) results;
2019-03-11T13:51:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '0' OR status_id = '0') ORDER BY lname, fname LIMIT 20 OFFSET 0;
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:51:26+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2019-03-11T13:51:32+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:38+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:48+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('401', '8');
2019-03-11T13:51:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:51:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:52:05+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:53:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '20' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:53:35+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '20');
2019-03-11T13:53:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '20' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:53:40+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '21' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:53:48+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '21');
2019-03-11T13:53:48+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '21' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:53:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:53:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:09+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '13');
2019-03-11T13:54:09+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '13' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:12+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '12' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:29+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '12');
2019-03-11T13:54:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '12' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:41+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '24');
2019-03-11T13:54:41+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '24' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:54:58+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '14');
2019-03-11T13:54:58+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '14' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:02+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:13+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '28');
2019-03-11T13:55:13+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '28' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:20+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '19');
2019-03-11T13:55:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:27+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:37+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '19');
2019-03-11T13:55:37+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '19' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:40+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '25' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:45+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '25');
2019-03-11T13:55:45+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '25' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:48+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:52+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '8');
2019-03-11T13:55:52+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:55:55+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '27' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '27');
2019-03-11T13:56:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '27' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:11+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:15+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '16');
2019-03-11T13:56:15+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '16' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:56:18+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:56:21+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:28+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '10');
2019-03-11T13:56:28+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '17' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:37+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '17');
2019-03-11T13:56:37+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '17' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:39+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '9');
2019-03-11T13:56:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:52+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:56:56+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '23' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:03+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '23');
2019-03-11T13:57:03+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '23' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:06+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '18' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:11+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '18');
2019-03-11T13:57:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '18' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:13+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:17+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '7');
2019-03-11T13:57:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '26' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:24+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '26');
2019-03-11T13:57:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '26' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:27+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '22' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:31+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '22');
2019-03-11T13:57:31+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '22' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:34+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:37+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('503', '15');
2019-03-11T13:57:38+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:40+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: DELETE	FROM user_resource_permissions WHERE user_id = '503' AND resource_id = '15';
2019-03-11T13:57:40+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:43+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '15');
2019-03-11T13:57:43+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('539', '11');
2019-03-11T13:57:55+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '11' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:57:57+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '15' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:58:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:58:41+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:59:00+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:59:04+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:59:25+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT IGNORE INTO user_resource_permissions (user_id, resource_id)
		VALUES ('399', '9');
2019-03-11T13:59:25+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T13:59:32+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '1' OR status_id = '1') ORDER BY lname, fname;
2019-03-11T13:59:38+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T13:59:49+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO custom_attributes (display_label, display_type, attribute_category, validation_regex, is_required, possible_values, sort_order, admin_only, secondary_category, secondary_entity_ids, is_private)
		VALUES ('Remark(s), if any', '2', '1', '', '0', null, '2', '0', '4', '2', '0');
2019-03-11T13:59:49+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:00:01+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T14:00:24+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T14:00:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T14:00:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T14:00:25+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T14:00:50+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:01:09+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '1' OR status_id = '1') ORDER BY lname, fname;
2019-03-11T14:01:11+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T14:01:18+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO custom_attributes (display_label, display_type, attribute_category, validation_regex, is_required, possible_values, sort_order, admin_only, secondary_category, secondary_entity_ids, is_private)
		VALUES ('Number of sample', '1', '1', '', '0', null, '0', '0', '4', '18', '0');
2019-03-11T14:01:18+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:01:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a	WHERE custom_attribute_id = '39';
2019-03-11T14:01:34+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE custom_attributes
				SET display_label = 'Number of sample', display_type = '1', attribute_category = '1',
				validation_regex = '', is_required = '1', possible_values = null, sort_order = '0', admin_only = '0',
				secondary_category = '4', secondary_entity_ids = '18', is_private = '0'
			WHERE custom_attribute_id = '39';
2019-03-11T14:01:34+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:02:16+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, pt.name AS position_name,
			(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE u.user_id = p.user_id) as preferences,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = u.user_id AND cav.attribute_category = 2) as attribute_list,
            (SELECT GROUP_CONCAT(ug.group_id SEPARATOR "!sep!")
                        FROM user_groups ug WHERE ug.user_id = u.user_id) as group_ids
			FROM users u
			LEFT JOIN positions pt ON pt.position_id = u.position_id 
			WHERE (0 = '1' OR status_id = '1') ORDER BY lname, fname;
2019-03-11T14:02:19+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T14:04:33+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: INSERT INTO custom_attributes (display_label, display_type, attribute_category, validation_regex, is_required, possible_values, sort_order, admin_only, secondary_category, secondary_entity_ids, is_private)
		VALUES ('FRC items to be borrowed', '1', '1', '', '0', null, '1', '0', '4', '18', '0');
2019-03-11T14:04:33+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T14:05:00+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T14:05:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a	WHERE custom_attribute_id = '38';
2019-03-11T14:05:06+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE custom_attributes
				SET display_label = 'Remark(s), if any', display_type = '2', attribute_category = '1',
				validation_regex = '', is_required = '0', possible_values = null, sort_order = '2', admin_only = '0',
				secondary_category = '4', secondary_entity_ids = '18,2', is_private = '0'
			WHERE custom_attribute_id = '38';
2019-03-11T14:05:06+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:10:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T17:10:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:10:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:10:35+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT q.*, r.name as resource_name, g.name as group_name, s.name as schedule_name
		FROM quotas q
		LEFT JOIN resources r ON r.resource_id = q.resource_id
		LEFT JOIN groups g ON g.group_id = q.group_id
		LEFT JOIN schedules s ON s.schedule_id = q.schedule_id;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-11T17:11:29+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '2';
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '2';
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '2' AND r.resource_id = urp.resource_id;
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '2' AND (null is null OR r.role_level IN (null) );
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '2';
2019-03-11T17:11:54+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '2';
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = 'e6a17722e328faec0f3bd2c3924b2299c49a2c3b',
			salt = '712132b5',
			fname = 'Admin',
			lname = 'A.',
			email = 'Frc.booking@vistec.ac.th',
			username = 'admin',
			homepageId = '1',
			last_modified = '2019-03-11 17:11:54',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5a0a250765a11',
			language = 'en_us',
			lastlogin = '2019-03-11 17:09:56',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '2';
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '25' WHERE user_id = '2' AND name = 'FilterResourceId';
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Execute: UPDATE user_preferences SET value = '0' WHERE user_id = '2' AND name = 'FilterResourceStatusId';
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '1' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '25' ) AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC) results;
2019-03-11T17:11:55+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE ( rs.status_id <> 2
			AND ru.reservation_user_level = '1' ) AND (1=1 AND ( resources.resource_id = '25' ) AND ( users.user_id = '538' ) AND ( 0=1 OR ( start_date <= '2018-02-25 00:00:00' AND ( end_date >= '2019-03-26 00:00:00' ) ) OR ( start_date >= '2018-02-25 00:00:00' AND ( start_date <= '2019-03-26 00:00:00' ) ) OR ( end_date >= '2018-02-25 00:00:00' AND ( end_date <= '2019-03-26 00:00:00' ) ) )) ORDER BY ri.start_date ASC LIMIT 20 OFFSET 0;
2019-03-11T17:15:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T17:15:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:15:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:15:08+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT q.*, r.name as resource_name, g.name as group_name, s.name as schedule_name
		FROM quotas q
		LEFT JOIN resources r ON r.resource_id = q.resource_id
		LEFT JOIN groups g ON g.group_id = q.group_id
		LEFT JOIN schedules s ON s.schedule_id = q.schedule_id;
2019-03-11T17:15:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*, admin_group.name as admin_group_name
		FROM groups g
		LEFT JOIN groups admin_group ON g.admin_group_id = admin_group.group_id
		ORDER BY g.name;
2019-03-11T17:15:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:15:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:15:56+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT q.*, r.name as resource_name, g.name as group_name, s.name as schedule_name
		FROM quotas q
		LEFT JOIN resources r ON r.resource_id = q.resource_id
		LEFT JOIN groups g ON g.group_id = q.group_id
		LEFT JOIN schedules s ON s.schedule_id = q.schedule_id;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 0;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:18:20+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:18:23+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '10' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T17:18:34+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '9' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T17:18:53+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '7' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 10;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:19:10+07:00 [14515] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:19:17+07:00 [14516] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT
				u.*
			FROM
				user_resource_permissions urp, resources r, users u
			WHERE
				r.resource_id = '8' AND r.resource_id = urp.resource_id AND u.user_id = urp.user_id AND u.status_id = '1';
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '4' ORDER BY a.sort_order, a.display_label;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT COUNT(*) as total FROM (SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name) results;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name LIMIT 10 OFFSET 20;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT *,
			(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
							FROM custom_attribute_values cav INNER JOIN custom_attribute_entities cae on cav.custom_attribute_id = cae.custom_attribute_id
							WHERE cav.entity_id = r.resource_type_id AND cav.attribute_category = 5) as attribute_list
							FROM resource_types r;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_status_reasons;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT g.*
		FROM groups g
		INNER JOIN group_roles gr ON g.group_id = gr.group_id
		INNER JOIN roles r ON r.role_id = gr.role_id
		WHERE r.role_level = '3'
		ORDER BY g.name;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2019-03-11T17:19:39+07:00 [15262] DEBUG sql - [User=Admin A. (Frc.booking@vistec.ac.th)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
