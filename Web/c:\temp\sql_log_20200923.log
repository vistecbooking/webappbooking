2020-09-23T14:17:42+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:17:43+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM users WHERE (username = 'tanut.cho' OR email = 'tanut.cho');
2020-09-23T14:17:43+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:17:43+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:17:44+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:17:44+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:17:44+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:17:45+07:00 [18] DEBUG sql - [User=  ()] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:17:44',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:17:44',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:17:45+07:00 [18] DEBUG sql - [User=  ()] MySql Query: SELECT COUNT(*) as count FROM users;
2020-09-23T14:18:14+07:00 [31] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:18:40+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:18:40+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM users WHERE (username = 'tanut.cho' OR email = 'tanut.cho');
2020-09-23T14:18:40+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:18:41+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:18:41+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:18:41+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:18:42+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:18:42+07:00 [32] DEBUG sql - [User=  ()] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:18:42',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:18:42',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:18:42+07:00 [32] DEBUG sql - [User=  ()] MySql Query: SELECT COUNT(*) as count FROM users;
2020-09-23T14:19:03+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:19:03+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM users WHERE (username = 'tanut.cho' OR email = 'tanut.cho');
2020-09-23T14:19:04+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:19:04+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:19:04+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:19:05+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:19:05+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:19:05+07:00 [30] DEBUG sql - [User=  ()] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:19:05',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:19:05',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:19:05+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT COUNT(*) as count FROM users;
2020-09-23T14:19:26+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = '22' OR email = '22') AND status_id = 1;
2020-09-23T14:22:08+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:22:08+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM users WHERE (username = 'tanut.cho' OR email = 'tanut.cho');
2020-09-23T14:22:09+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:22:09+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:22:09+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:22:10+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:22:10+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:22:10+07:00 [30] DEBUG sql - [User=  ()] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:22:10',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:22:10',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:22:10+07:00 [30] DEBUG sql - [User=  ()] MySql Query: SELECT COUNT(*) as count FROM users;
2020-09-23T14:23:11+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT user_id, password, salt, legacypassword
		FROM users
		WHERE (username = 'tanut.cho' OR email = 'tanut.cho') AND status_id = 1;
2020-09-23T14:23:11+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM users WHERE (username = 'tanut.cho' OR email = 'tanut.cho');
2020-09-23T14:23:12+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:23:12+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:23:12+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:23:13+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:23:13+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:23:13+07:00 [20] DEBUG sql - [User=  ()] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:23:13',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:23:13+07:00 [20] DEBUG sql - [User=  ()] MySql Query: SELECT COUNT(*) as count FROM users;
2020-09-23T14:23:23+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:23:23' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:23:23' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:23:24+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:23:25+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:23:25+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:23:25+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:23:25+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:23:26+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:23:26+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:23:26+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:23:27+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:23:27+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:23:27+07:00 [20] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:23:44+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:23:45+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:23:45+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:23:45+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:23:46+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:23:46+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:23:46+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:23:46',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:23:47+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:23:47+07:00 [26] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:24:21+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:24:20' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:24:20' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:24:21+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:24:22+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:24:22+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:24:22+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:24:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:24:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:24:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:24:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:24:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:24:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:24:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:24:31+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:24:32+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:24:32+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:24:32+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:24:33+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:24:33+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:24:33+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:24:33',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:24:33+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:24:34+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:25:47+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:25:47' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:25:47' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:25:48+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:25:48+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:25:49+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:25:49+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:25:49+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:25:49+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:25:50+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:25:50+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:25:50+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:25:51+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:25:51+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:26:02+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:26:03+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:26:03+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:26:03+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:26:03+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:26:04+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:26:04+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:26:04',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:26:04+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:26:05+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:26:12+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:26:12' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:26:12' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:26:13+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:26:13+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:26:13+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:26:14+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:26:14+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:26:14+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:26:15+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:26:15+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:26:15+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:26:17+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:26:17+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:26:27+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:26:27+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:26:28+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:26:28+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:26:29+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:26:29+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:26:29+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:26:29',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:26:30+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:26:30+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:33:24+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:33:23' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:33:23' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:33:24+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:33:24+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:33:25+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:33:25+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:33:25+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:33:26+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:33:26+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:33:26+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:33:26+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:33:27+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:33:27+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:33:32+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:33:32+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:33:33+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:33:33+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:33:33+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:33:33+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:33:34+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:33:33',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:33:34+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:33:34+07:00 [33] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:46:54+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:46:54' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:46:54' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:46:55+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:46:55+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:46:56+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:46:56+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:46:56+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:46:56+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:46:57+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:46:57+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:46:57+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:46:57+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:46:58+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:47:09+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:47:09+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:47:10+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:47:10+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:47:10+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:47:11+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:47:11+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:47:11',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:47:11+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:47:11+07:00 [21] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:47:13+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*, 
			(SELECT GROUP_CONCAT(ag.group_id) FROM announcement_groups ag WHERE ag.announcementid = a.announcementid) as group_ids,
			(SELECT GROUP_CONCAT(ar.resource_id) FROM announcement_resources ar WHERE ar.announcementid = a.announcementid) as resource_ids
			FROM announcements a
		WHERE (CONVERT(CONCAT(DATE_FORMAT(start_date, "%Y-%m-%d"), " " ,start_time), DATETIME) <= '2020-09-23 14:47:12' AND CONVERT(CONCAT(DATE_FORMAT(end_date, "%Y-%m-%d"), " " ,end_time), DATETIME) >= '2020-09-23 14:47:12' AND (a.status_deleted != "1" OR a.status_deleted IS NULL)) OR (end_date IS NULL)
		ORDER BY start_date, priority,  end_date;
2020-09-23T14:47:13+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:47:13+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT s.*, l.timezone FROM schedules s INNER JOIN layouts l ON s.layout_id = l.layout_id ORDER BY s.name;
2020-09-23T14:47:14+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:47:14+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:47:14+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:47:14+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:47:15+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:47:15+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:47:15+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM resource_groups ORDER BY parent_id, resource_group_name;
2020-09-23T14:47:16+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, a.resource_group_id
		FROM resource_group_assignment a
		INNER JOIN resources r ON r.resource_id = a.resource_id
		WHERE (-1 = '-1' OR r.schedule_id = '-1')
		ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:47:16+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT r.*, s.admin_group_id as s_admin_group_id,
		(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id, '=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = r.resource_id AND cav.attribute_category = 4) as attribute_list,
		(SELECT GROUP_CONCAT(rga.resource_group_id SEPARATOR "!sep!") FROM resource_group_assignment rga WHERE rga.resource_id = r.resource_id) AS group_list
		FROM resources r
		INNER JOIN schedules s ON r.schedule_id = s.schedule_id
		 WHERE 1=1 ORDER BY COALESCE(r.sort_order,0), r.name;
2020-09-23T14:47:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:47:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:47:23+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:47:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:47:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:47:24+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:47:25+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Execute: UPDATE users
		SET
			status_id = '1',
			password = '406de603552447816e85f8a3a2c065c6d89e33d1',
			salt = '27305c87',
			fname = 'Tanut',
			lname = 'Choksatchawathi',
			email = 'tanut.cho@gmail.com',
			username = 'tanut.cho',
			homepageId = '1',
			last_modified = '2020-09-23 14:47:24',
			timezone = 'Asia/Bangkok',
			allow_calendar_subscription = '0',
			public_id = '5def4452d438d',
			language = 'en_us',
			lastlogin = '2020-09-23 14:23:13',
			default_schedule_id = null,
			credit_count = '0.00'
		WHERE
			user_id = '583';
2020-09-23T14:47:25+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
				ri.*, rs.date_created as date_created, rs.last_modified as last_modified, rs.description as description, rs.status_id as status_id, rs.title, rs.repeat_type, rs.repeat_options,
					owner.fname as owner_fname, owner.lname as owner_lname, owner.user_id as owner_id, owner.phone as owner_phone, owner.position_id as owner_position, owner.organization as owner_organization, owner.email as email, owner.language, owner.timezone,
					resources.name, resources.resource_id, resources.schedule_id, resources.status_id as resource_status_id, resources.resource_status_reason_id, resources.buffer_time, resources.color, resources.enable_check_in, resources.auto_release_minutes, ru.reservation_user_level,
					start_reminder.minutes_prior AS start_reminder_minutes, end_reminder.minutes_prior AS end_reminder_minutes,
					(SELECT GROUP_CONCAT(groups.group_id)
						FROM user_groups groups WHERE owner.user_id = groups.user_id) as owner_group_list,

					(SELECT GROUP_CONCAT(CONCAT(participants.user_id, '=', CONCAT(participant_users.fname, " ", participant_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users participants INNER JOIN users participant_users ON participants.user_id = participant_users.user_id WHERE participants.reservation_instance_id = ri.reservation_instance_id AND participants.reservation_user_level = 2) as participant_list,

					(SELECT GROUP_CONCAT(CONCAT(invitees.user_id, '=', CONCAT(invitee_users.fname, " ", invitee_users.lname)) SEPARATOR "!sep!")
						FROM reservation_users invitees INNER JOIN users invitee_users ON invitees.user_id = invitee_users.user_id WHERE invitees.reservation_instance_id = ri.reservation_instance_id AND invitees.reservation_user_level = 3) as invitee_list,

					(SELECT GROUP_CONCAT(CONCAT(cav.custom_attribute_id,'=', cav.attribute_value) SEPARATOR "!sep!")
						FROM custom_attribute_values cav WHERE cav.entity_id = ri.series_id AND cav.attribute_category = 1) as attribute_list,

					(SELECT GROUP_CONCAT(CONCAT(p.name, "=", p.value) SEPARATOR "!sep!")
						FROM user_preferences p WHERE owner.user_id = p.user_id) as preferences,
						
					(SELECT GROUP_CONCAT(CONCAT(guests.email, "=", guests.reservation_user_level) SEPARATOR "!sep!")
						FROM reservation_guests guests WHERE guests.reservation_instance_id = ri.reservation_instance_id) as guest_list
			FROM reservation_instances ri
			INNER JOIN reservation_series rs ON rs.series_id = ri.series_id
			INNER JOIN reservation_users ru ON ru.reservation_instance_id = ri.reservation_instance_id
			INNER JOIN users ON users.user_id = rs.owner_id
			INNER JOIN users owner ON owner.user_id = rs.owner_id
			LEFT JOIN positions ON owner.position_id = positions.position_id
			INNER JOIN reservation_resources rr ON rs.series_id = rr.series_id
			INNER JOIN resources ON rr.resource_id = resources.resource_id
			INNER JOIN schedules ON resources.schedule_id = schedules.schedule_id
			LEFT JOIN reservation_reminders start_reminder ON start_reminder.series_id = rs.series_id AND start_reminder.reminder_type = 0
			LEFT JOIN reservation_reminders end_reminder ON end_reminder.series_id = rs.series_id AND end_reminder.reminder_type = 1
			
			WHERE rs.status_id <> 2
			AND ((ri.start_date >= '2020-08-31 00:00:00' AND ri.start_date <= '2020-10-13 00:00:00') OR
					(ri.end_date >= '2020-08-31 00:00:00' AND ri.end_date <= '2020-10-13 00:00:00') OR
					(ri.start_date <= '2020-08-31 00:00:00' AND ri.end_date >= '2020-10-13 00:00:00')) AND
					('583' = -1 OR ru.user_id = '583') AND
					('0' = 0 OR ru.reservation_user_level = '0') AND
					('1' = 1 OR resources.schedule_id IN (null)) AND
					('1' = 1 OR rr.resource_id IN (null))
			ORDER BY ri.start_date ASC;
2020-09-23T14:47:25+07:00 [27] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM reservation_color_rules r
		LEFT JOIN custom_attributes ca ON ca.custom_attribute_id = r.custom_attribute_id;
2020-09-23T14:49:22+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT u.*, p.name AS position_name FROM users u 
		LEFT JOIN positions p ON p.position_id = u.position_id
		WHERE u.user_id = '583';
2020-09-23T14:49:23+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM user_email_preferences WHERE user_id = '583';
2020-09-23T14:49:23+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT
			urp.user_id, r.resource_id, r.name
		FROM
			user_resource_permissions urp, resources r
		WHERE
			urp.user_id = '583' AND r.resource_id = urp.resource_id;
2020-09-23T14:49:23+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT g.*, r.role_level
		FROM user_groups ug
		INNER JOIN groups g ON ug.group_id = g.group_id
		LEFT JOIN group_roles gr ON ug.group_id = gr.group_id
		LEFT JOIN roles r ON gr.role_id = r.role_id
		WHERE user_id = '583' AND (null is null OR r.role_level IN (null) );
2020-09-23T14:49:24+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT cav.*, ca.display_label
		FROM custom_attribute_values cav
		INNER JOIN custom_attributes ca ON ca.custom_attribute_id = cav.custom_attribute_id
		WHERE cav.attribute_category = '2' AND cav.entity_id = '583';
2020-09-23T14:49:24+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT name, value FROM user_preferences WHERE user_id = '583';
2020-09-23T14:49:24+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT * FROM positions
		ORDER BY name;
2020-09-23T14:49:24+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT a.*,
				(SELECT GROUP_CONCAT(e.entity_id SEPARATOR "!sep!")
							FROM custom_attribute_entities e WHERE e.custom_attribute_id = a.custom_attribute_id ORDER BY e.entity_id) as entity_ids,
				CASE
				WHEN a.attribute_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT(u.fname, " ", u.lname) SEPARATOR "!sep!")
													FROM users u INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND u.user_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 4 THEN (SELECT GROUP_CONCAT(r.name SEPARATOR "!sep!")
													FROM resources r INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND r.resource_id = e.entity_id ORDER BY e.entity_id)
				WHEN a.attribute_category = 5  THEN (SELECT GROUP_CONCAT(rt.resource_type_name SEPARATOR "!sep!")
													FROM resource_types rt INNER JOIN custom_attribute_entities e
													WHERE e.custom_attribute_id = a.custom_attribute_id AND rt.resource_type_id = e.entity_id ORDER BY e.entity_id)
				ELSE null
				END as entity_descriptions,
				CASE
				WHEN a.secondary_category = 2 THEN (SELECT GROUP_CONCAT(CONCAT( fname, " ", lname ) SEPARATOR  "!sep!" ) FROM users WHERE FIND_IN_SET( user_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 4 THEN (SELECT GROUP_CONCAT(name SEPARATOR  "!sep!" ) FROM resources WHERE FIND_IN_SET( resource_id, a.secondary_entity_ids ))
				WHEN a.secondary_category = 5 THEN (SELECT GROUP_CONCAT(resource_type_name SEPARATOR  "!sep!" ) FROM resource_types WHERE FIND_IN_SET( resource_type_id, a.secondary_entity_ids ))
				ELSE null
				END as secondary_entity_descriptions
				FROM custom_attributes a WHERE a.attribute_category = '2' ORDER BY a.sort_order, a.display_label;
2020-09-23T14:49:25+07:00 [31] DEBUG sql - [User=Tanut Choksatchawathi (tanut.cho@gmail.com)] MySql Query: SELECT *
		FROM custom_attribute_values WHERE entity_id IN ('583') AND attribute_category = '2';
